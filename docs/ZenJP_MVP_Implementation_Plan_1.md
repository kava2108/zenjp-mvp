# ZenJP MVP 実装計画書（AI駆動型開発・最適化版）

**Version:** 1.1.0  
**作成日:** 2026年2月1日  
**最終更新:** 2026年2月1日（Gemini AI駆動型開発提案を完全統合）  
**開発期間:** 2026年2月3日（月） 〜 2026年2月16日（日）= 14日間  
**基準文書:** 要件定義書 v1.1.0、技術設計書 v1.1.0

---

## 🤖 AI駆動型開発の方針

**本実装計画は、Claude/Cursor/GitHub Copilot等のAIツールをフル活用します。**

### AI活用による効果

- ✅ **定型コード生成時間を50%削減** - ボイラープレートはAI生成
- ✅ **型定義の不一致をゼロ化** - Python↔TypeScript自動変換
- ✅ **スコア調整の精度向上** - AIとの対話でロジック検証
- ✅ **UI実装の高速化** - Tailwind CSSのコンポーネント自動生成
- ✅ **コード品質の自動監査** - セキュリティ・パフォーマンスチェック

### 削減した時間の再配分

AI活用により短縮した時間を以下に再配分：

- **Day 7:** スコア調整時間を8h→10h（+2h）
- **Day 13:** 統合テストを8h→10h（+2h）
- **Day 14:** デモ準備を8h→11h（+3h）

**合計:** 72時間（変更なし、質の向上に投資）

---

## 📋 目次

1. [AI活用戦略](#1-ai活用戦略)
2. [実装スケジュール](#2-実装スケジュール)
3. [フェーズ別AI活用詳細](#3-フェーズ別ai活用詳細)
4. [日別タスク詳細](#4-日別タスク詳細)
5. [品質管理](#5-品質管理)
6. [デリバリー計画](#6-デリバリー計画)

---

## 1. AI活用戦略

### 1.1 AI活用の基本原則

**「AIに任せるもの」と「人間が考えるもの」を明確に分ける**

#### ✅ AIに任せる（自動化）

| カテゴリ | 具体例 | 効果 |
|---------|--------|------|
| 定型コード生成 | docker-compose.yml、Dockerfile | 時間50%削減 |
| 型変換 | SQLAlchemy → Pydantic | エラーゼロ化 |
| 型同期 | Python → TypeScript | 不一致なし |
| スタイリング | Tailwind CSSコンポーネント | 時間60%削減 |
| テスト生成 | エッジケース20パターン | 新規追加 |
| コード監査 | セキュリティ・パフォーマンス | 品質向上 |

#### 🧠 人間が考える（AI支援）

| カテゴリ | 具体例 | AI役割 |
|---------|--------|--------|
| スコアロジック | PER/PBR/配当の重み付け | 壁打ち相手 |
| 定数調整 | 期待値との乖離分析 | ロールプレイ |
| UI/UX方針 | デザインテイスト決定 | 提案・実装 |
| デモストーリー | 投資家を惹きつける構成 | ナラティブ構築 |

### 1.2 AI活用プロンプト集

#### 環境構築（Day 1-2）

```
【プロンプト例1】
「要件定義書v1.1.0に基づいて、PostgreSQL用のCREATE TABLE文を生成してください。
テーブル:
- stocks（銘柄マスタ）: stock_code, stock_name, sector_name, market
- stock_prices（株価）: stock_code, price_date, close_price, volume
- stock_financials（財務）: stock_code, eps, bps, dividend
- daily_scores（スコア）: stock_code, score_date, total_score, rank
制約条件:
- UNIQUE(stock_code, price_date) で冪等性保証
- INDEX: (stock_code, price_date DESC)」
```

```
【プロンプト例2: 型同期】
「このSQLAlchemyモデルをPydanticスキーマに変換してください:

class Stock(Base):
    __tablename__ = "stocks"
    stock_code = Column(String(4), primary_key=True)
    stock_name = Column(String(100), nullable=False)
    sector_name = Column(String(50))
    market = Column(String(20))

型定義の完全一致を保証してください。」
```

#### データ取得（Day 3-5）

```
【プロンプト例3: 異常値検知】
「株価データに混入しがちな異常値を検知するPython関数を書いてください:

検知対象:
1. 株価が前日比で±50%以上変動（株式分割未調整の可能性）
2. 出来高が0（データ欠損）
3. 株価が0または負の値
4. 営業日でない日のデータ

戻り値: (is_valid: bool, error_message: str)」
```

#### スコア計算（Day 6-7）🔥最重要

```
【プロンプト例4: ロールプレイレビュー】
「あなたはバリュー投資を重視する投資家です。
以下のスコアリング結果を見て、指摘してください:

トヨタ自動車（7203）:
- PER: 12.5倍 → PERスコア: 58.3点
- PBR: 1.15倍 → PBRスコア: 77.0点
- 配当利回り: 2.8% → 配当スコア: 56.0点
→ Valueスコア総合: 62.3点

質問:
1. このスコアは妥当ですか？
2. トヨタは安定配当企業として知られていますが、配当スコアが低すぎませんか？
3. PER基準値（現在15倍）は日本市場に対して適切ですか？
4. どの定数をどう調整すべきですか？」
```

```
【プロンプト例5: グロース投資家視点】
「今度はグロース投資家の視点で、ソニーグループのスコアを評価してください:

ソニーグループ（6758）:
- 売上成長率: 8.5% → Growthスコア: 68.5点
- RSI: 55.3 → Momentumスコア: 75.2点

この企業は、エンタメ・ゲーム・半導体で高成長していますが、
Growthスコアが68.5点は低すぎませんか？」
```

#### API実装（Day 8-9）

```
【プロンプト例6: セキュリティ監査】
「このFastAPIエンドポイントに対して、セキュリティレビューしてください:

@router.get("/api/score/{stock_code}")
def get_score(stock_code: str, db: Session = Depends(get_db)):
    # ... コード ...

チェック項目:
1. SQLインジェクション脆弱性
2. N+1クエリ問題
3. レート制限の必要性
4. エラーハンドリングの妥当性」
```

#### UI実装（Day 10-12）

```
【プロンプト例7: コンポーネント生成】
「以下の要件で、Reactコンポーネント（TypeScript + Tailwind CSS）を実装してください:

コンポーネント名: ScoreCard
要件:
- 総合スコア（大きく表示、78.5点）
- ランク（B+、色分け: A=緑、D=赤）
- 市場平均との比較（+28.5点）
- 更新日時（右下に小さく）
デザインテイスト: Apple風のクリーンで洗練されたデザイン
レスポンシブ: モバイル・デスクトップ両対応」
```

```
【プロンプト例8: アニメーション追加】
「ScoreCardコンポーネントに、スコアがカウントアップするアニメーションを追加してください。
0から78.5まで1.5秒でアニメーションするようにし、Framer Motionを使用してください。」
```

#### テスト・デモ（Day 13-14）

```
【プロンプト例9: テスト自動生成】
「このスコア計算関数に対して、pytest用のユニットテストを20パターン生成してください:

def calculate_value_score(per: float, pbr: float, dividend_yield: float) -> float:
    # ... 実装 ...

エッジケース:
- per=0, pbr=0, dividend_yield=0
- per=負の値、pbr=負の値
- per=極端に大きい値（1000倍等）
- 境界値テスト」
```

```
【プロンプト例10: デモ台本】
「投資家を惹きつけるデモ台本（3分）を作成してください。

ZenJPの特徴:
- 日本株をValue/Growth/Momentumの3軸で評価
- 市場平均との比較で優位性を可視化
- リアルタイムAPIで最新データに基づく

デモの構成:
1. 問題提起: 従来の投資判断の課題
2. ZenJPの解決策: 3軸スコアリングの価値
3. 実演: トヨタとソニーの比較
4. 今後の展開: MVP→本番へのロードマップ

単なる機能紹介ではなく、『このツールがどう投資判断を変えるか』を強調してください。」
```

---

## 2. 実装スケジュール

### 2.1 AI駆動型開発による時間配分

```
Week 1: データ基盤（精度の追求）
┌─────┬─────┬─────┬─────┬─────┬─────┬──────┐
│Day 1│Day 2│Day 3│Day 4│Day 5│Day 6│Day 7 │
├─────┼─────┼─────┼─────┼─────┼─────┼──────┤
│環境 │DB   │株価 │株価 │財務 │スコア│調整★ │
│3h   │3h   │3.5h │3.5h │3h   │8h   │10h   │
│AI↓  │AI↓  │AI↓  │AI↓  │AI↓  │AI支援│AI壁打│
└─────┴─────┴─────┴─────┴─────┴─────┴──────┘

Week 2: アプリケーション（速度と洗練）
┌─────┬─────┬─────┬─────┬─────┬──────┬──────┐
│Day 8│Day 9│Day10│Day11│Day12│Day13 │Day14 │
├─────┼─────┼─────┼─────┼─────┼──────┼──────┤
│API  │API  │UI   │UI   │UI★  │テスト★│デモ★ │
│3.5h │3.5h │3.5h │3.5h │5h   │10h   │11h   │
│AI↓  │AI監査│AI↓  │AI↓  │AI+動│AI監査 │AI台本│
└─────┴─────┴─────┴─────┴─────┴──────┴──────┘

★ = AI活用で品質強化したポイント
AI↓ = AI活用で時間短縮
AI壁打 = AIとの対話で精度向上

合計: 72時間（削減分を品質強化に再配分）
```

### 2.2 マイルストーン

| Day | マイルストーン | 検証方法 | AI活用効果 |
|-----|--------------|---------|-----------|
| 2 | 環境構築完了 | 3コンテナUp | 型不一致ゼロ |
| 5 | データ取得完了 | 90件+3件 | 異常値検知追加 |
| 7 | スコア計算完了 | 期待値範囲内 | AIレビューで精度↑ |
| 9 | API完成 | <500ms | セキュリティ監査済 |
| 12 | UI完成 | 3銘柄表示 | アニメーション追加 |
| 14 | MVP完成 | デモ可能 | 投資家向け台本 |

---

## 3. フェーズ別AI活用詳細

### Phase 1: 環境構築・DB（Day 1-2）【加速化】

**従来:** 8時間  
**AI活用後:** 6時間（-2時間）

#### AI活用内容

1. **docker-compose.yml生成**
   - プロンプトに要件を渡して一括生成
   - 時間: 45分 → 20分（-55%）

2. **SQLAlchemy ↔ Pydantic型同期**
   - 一方を渡して他方を自動生成
   - 効果: 型定義の不一致エラーをゼロ化

3. **init.sql生成**
   - CREATE TABLE文を自動生成
   - UNIQUE制約、INDEX最適化を自動提案

#### 削減時間の使い道

- バックアップ・リストア手順の整備（新規）
- Docker Composeの最適化確認

---

### Phase 2: データ取得（Day 3-5）【堅牢化】

**従来:** 12時間  
**AI活用後:** 10時間（-2時間）+ 異常値検知追加

#### AI活用内容

1. **yfinanceエラーハンドリング自動生成**
   - リトライ処理、エクスポネンシャルバックオフ
   - 時間: 30分 → 10分（-67%）

2. **異常値検知ロジック実装（新規）**
   - 株式分割未調整データの検知
   - 出来高0、株価異常値の検知
   - 効果: Day 6のスコア計算バグを事前防止

#### Day 4に追加タスク

| タスク | 時間 | AI活用 |
|--------|------|--------|
| 異常値検知関数実装 | 20分 | プロンプト例3使用 |
| 検知テスト | 10分 | AIが生成したテストケース |

---

### Phase 3: スコア計算（Day 6-7）【最重要】🔥

**従来:** 16時間  
**AI活用後:** 18時間（+2時間、精度向上に投資）

#### AI活用内容

1. **ロールプレイレビュー（Day 7新規タスク）**
   
   **バリュー投資家視点:**
   ```
   プロンプト例4を使用
   - PER基準値の妥当性
   - 配当利回りの重み付け
   - 日本市場特有の考慮事項
   ```
   
   **グロース投資家視点:**
   ```
   プロンプト例5を使用
   - 売上成長率の閾値
   - 成長企業の特殊性
   - セクター別の調整
   ```

2. **定数調整の根拠強化**
   - AIとの壁打ちで「なぜこの値にするのか」を明確化
   - 複数の投資スタイルから検証

#### Day 7拡張タスク

| # | タスク | 時間 | 内容 |
|---|--------|------|------|
| 7.9 | **AIロールプレイレビュー（新規）** | **60分** | バリュー・グロース両視点 |
| 7.10 | **定数調整の根拠文書化** | **30分** | 「なぜこの値か」を記録 |
| 7.11 | 納得感チェック | 60分 | 人間の最終判断 |
| 7.12 | 定数記録 | 30分 | constants.py |
| 7.13 | 調整履歴 | 30分 | ドキュメント |
| 7.14 | 最終確認 | 30分 | 3銘柄確定 |

**合計:** 8h → 10h（+2h）

---

### Phase 4: API実装（Day 8-9）【監査強化】

**従来:** 8時間  
**AI活用後:** 7時間（-1時間）+ セキュリティ監査追加

#### AI活用内容

1. **FastAPIボイラープレート生成**
   - main.py、routers、services自動生成
   - 時間短縮: 50%

2. **セキュリティ監査（Day 9新規タスク）**
   ```
   プロンプト例6を使用
   - SQLインジェクション検査
   - N+1クエリ問題検出
   - エラー情報漏洩チェック
   ```

#### Day 9追加タスク

| タスク | 時間 | AI活用 |
|--------|------|--------|
| AIセキュリティ監査 | 15分 | プロンプト例6 |
| パフォーマンス監査 | 15分 | クエリ最適化提案 |

---

### Phase 5: UI実装（Day 10-12）【洗練化】

**従来:** 12時間  
**AI活用後:** 11.5時間（-0.5時間）+ アニメーション追加

#### AI活用内容

1. **Tailwind CSSコンポーネント量産**
   ```
   プロンプト例7を使用
   - ScoreCard.tsx: 60分 → 30分（-50%）
   - CategoryBar.tsx: 50分 → 25分（-50%）
   - DetailTable.tsx: 45分 → 25分（-44%）
   ```

2. **レスポンシブ対応自動化**
   - コード全体をAIに渡して一括最適化
   - 時間: 40分 → 15分（-62%）

3. **アニメーション追加（新規）**
   ```
   プロンプト例8を使用
   - スコアのカウントアップアニメーション
   - Framer Motion導入
   - デモ映え効果
   ```

#### Day 12拡張タスク

| # | タスク | 時間 | 内容 |
|---|--------|------|------|
| 12.9 | **スコアアニメーション（新規）** | **30分** | Framer Motion |
| 12.10 | **ホバーエフェクト（新規）** | **20分** | インタラクション |
| 12.11 | 最終調整 | 40分 | 細部調整 |
| 12.12 | スクリーンショット | 10分 | デモ用 |

**合計:** 4h → 5h（+1h、品質強化）

---

### Phase 6: テスト・デモ（Day 13-14）【深化】

**従来:** 16時間  
**AI活用後:** 21時間（+5時間、品質・デモ強化）

#### AI活用内容

1. **テスト自動生成（Day 13新規）**
   ```
   プロンプト例9を使用
   - エッジケース20パターン自動生成
   - 境界値テスト網羅
   - パフォーマンステスト追加
   ```

2. **AIコード監査（Day 13新規）**
   - セキュリティ再確認
   - パフォーマンスボトルネック検出
   - ベストプラクティス違反検出

3. **デモ台本作成（Day 14強化）**
   ```
   プロンプト例10を使用
   - 投資家を惹きつけるナラティブ構築
   - 「機能」ではなく「価値」を訴求
   - ストーリーテリング強化
   ```

#### Day 13拡張タスク

| # | タスク | 時間 | 内容 |
|---|--------|------|------|
| 13.8 | **AI自動テスト生成（新規）** | **60分** | 20パターン |
| 13.9 | **AIコード監査（新規）** | **45分** | セキュリティ・性能 |
| 13.10 | P0バグ修正 | 90分 | 致命的バグ |
| 13.11 | P1バグ修正 | 60分 | 重要バグ |
| 13.12 | 回帰テスト | 45分 | 再テスト |

**Day 13合計:** 8h → 10h（+2h）

#### Day 14拡張タスク

| # | タスク | 時間 | 内容 |
|---|--------|------|------|
| 14.7 | **AIデモ台本作成（強化）** | **90分** | ナラティブ構築 |
| 14.8 | デモリハーサル | 60分 | 実演練習 |
| 14.9 | **プレゼン資料作成（新規）** | **60分** | 投資家向け |
| 14.10 | デモビデオ録画 | 60分 | 3分動画 |
| 14.11 | 最終動作確認 | 60分 | 全機能 |
| 14.12 | README完成 | 90分 | セットアップ手順 |
| 14.13 | クリーンアップ | 30分 | 不要コード削除 |
| 14.14 | Git commit & tag | 30分 | v1.0.0 |

**Day 14合計:** 8h → 11h（+3h）

---

## 4. 日別タスク詳細（要約版）

詳細は上記「フェーズ別AI活用詳細」を参照。

### Week 1

| Day | フェーズ | 時間 | AI活用ポイント |
|-----|---------|------|---------------|
| 1 | 環境構築 | 3h | docker-compose自動生成 |
| 2 | DB構築 | 3h | 型同期自動化 |
| 3 | 株価取得実装 | 3.5h | エラーハンドリング自動生成 |
| 4 | 株価取得完成 | 3.5h | 異常値検知追加 |
| 5 | 財務取得 | 3h | データ検証自動化 |
| 6 | スコア実装 | 8h | ロジック壁打ち |
| 7 | **スコア調整★** | **10h** | **AIロールプレイレビュー** |

### Week 2

| Day | フェーズ | 時間 | AI活用ポイント |
|-----|---------|------|---------------|
| 8 | API基礎 | 3.5h | ボイラープレート自動生成 |
| 9 | API完成 | 3.5h | セキュリティ監査 |
| 10 | UI基礎 | 3.5h | 型定義自動生成 |
| 11 | UIコンポーネント | 3.5h | Tailwind自動生成 |
| 12 | **UI完成★** | **5h** | **アニメーション追加** |
| 13 | **統合テスト★** | **10h** | **自動テスト生成+監査** |
| 14 | **デモ準備★** | **11h** | **AIデモ台本+資料** |

---

## 5. 品質管理

### 5.1 品質基準（AI監査項目追加）

| 項目 | 基準 | 測定方法 | AI活用 |
|------|------|---------|--------|
| API応答時間 | <500ms | Postman | AI性能監査 |
| スコア精度 | 期待値±10点 | 手動確認 | AIロールプレイ |
| UI表示速度 | <2秒 | Chrome DevTools | AI最適化提案 |
| バグ | P0=0件 | テスト結果 | AI自動テスト |
| **セキュリティ** | **脆弱性0件** | **AI監査** | **プロンプト例6** |
| **コード品質** | **ベストプラクティス準拠** | **AI監査** | **全体レビュー** |

### 5.2 AIコード監査チェックリスト

#### セキュリティ
- [ ] SQLインジェクション脆弱性なし
- [ ] エラー情報漏洩なし
- [ ] 認証なし警告を確認（MVP許容範囲）

#### パフォーマンス
- [ ] N+1クエリ問題なし
- [ ] 不要なレンダリングなし
- [ ] インデックスが適切に使用されている

#### ベストプラクティス
- [ ] 型定義が完全
- [ ] エラーハンドリングが適切
- [ ] ログ出力が適切

---

## 6. デリバリー計画

### 6.1 成果物

| 成果物 | 格納場所 | AI活用 |
|-------|---------|--------|
| ソースコード | GitHub | AI生成コード含む |
| README.md | ルート | AI整形 |
| docker-compose.yml | ルート | AI生成 |
| デモ台本 | docs/demo.md | AI構築 |
| **プレゼン資料（新規）** | **docs/presentation.pdf** | **AI支援作成** |
| スクリーンショット | docs/screenshots/ | 手動 |

### 6.2 デモ実施（2/17以降）

**デモ時間:** 10分

**構成（AI構築のナラティブ）:**

1. **問題提起（1分）**
   - 従来の投資判断の課題
   - 情報過多と分析の困難さ

2. **ZenJPの解決策（2分）**
   - 3軸スコアリングの価値
   - 市場平均との比較の重要性
   - リアルタイムデータの活用

3. **実演デモ（5分）**
   - トヨタ自動車: 安定配当企業
   - ソニーグループ: 成長企業
   - スコア比較と投資判断への応用

4. **技術的優位性（1分）**
   - FastAPI高速API
   - Next.js最新UI
   - AIが実装を加速

5. **今後の展開（1分）**
   - MVP→本番へのロードマップ
   - 銘柄数拡大
   - ポートフォリオ最適化機能

---

## 付録A: AI活用プロンプトクイックリファレンス

| フェーズ | プロンプト番号 | 用途 |
|---------|--------------|------|
| 環境構築 | #1, #2 | SQL生成、型同期 |
| データ取得 | #3 | 異常値検知 |
| スコア計算 | #4, #5 | ロールプレイレビュー |
| API実装 | #6 | セキュリティ監査 |
| UI実装 | #7, #8 | コンポーネント生成、アニメーション |
| テスト | #9 | 自動テスト生成 |
| デモ | #10 | デモ台本構築 |

---

## 付録B: Gemini改善提案対応表

| Gemini提案 | 対応状況 | セクション |
|-----------|---------|----------|
| AI活用によるスケジュール圧縮 | ✅ 完全反映 | 2.1, 3.x |
| 型同期の自動化 | ✅ Day 2に追加 | 3.1 |
| 異常値検知の追加 | ✅ Day 4に追加 | 3.2 |
| AIロールプレイレビュー | ✅ Day 7に追加 | 3.3 |
| UIアニメーション追加 | ✅ Day 12に追加 | 3.5 |
| AIセキュリティ監査 | ✅ Day 9, 13に追加 | 3.4, 3.6 |
| 自動テスト生成 | ✅ Day 13に追加 | 3.6 |
| デモナラティブ構築 | ✅ Day 14に強化 | 3.6, 6.2 |

**すべての提案を完全統合し、実装計画v1.1として最適化完了。**

---

## 変更履歴

| Version | 日付 | 変更内容 | 作成者 |
|---------|------|---------|--------|
| 1.0.0 | 2026-02-01 | 初版作成 | ZenJP Team |
| 1.1.0 | 2026-02-01 | Gemini AI駆動型開発提案を完全統合<br>- AI活用戦略追加<br>- Day 7, 12, 13, 14拡張<br>- AI監査項目追加<br>- デモナラティブ強化 | ZenJP Team |

---

**ZenJP MVP 実装計画書 v1.1.0（AI駆動型開発・最適化版）完成**

**開始:** 2026年2月3日（月）  
**完成:** 2026年2月16日（日）  
**合計:** 72時間（AI活用で品質最大化）

**次のステップ:** Day 1 環境構築開始！AIツールを準備してスタート！
